function initShowMoreForContainer(e){if(e&&"true"!==e.dataset.showMoreInitialized){const i=e.querySelectorAll(".show-more-item"),s=e.querySelector(".show-more-btn");var t=e.classList.contains("gallery-page");const a="Скрыть",o=s?s.textContent.trim():"",l=t?6:8,c=t?6:8;let r=l;function n(){i.forEach((e,t)=>{t<r?e.classList.remove("latent"):e.classList.add("latent")}),s&&(r>=i.length?(s.classList.remove("latent"),s.classList.add("visible"),s.classList.add("expanded"),s.textContent.trim()!==a&&(s.textContent=a)):(s.classList.remove("expanded"),s.classList.remove("latent"),i.length>l?s.classList.add("visible"):s.classList.remove("visible"),o&&s.textContent.trim()!==o&&(s.textContent=o)))}n(),s&&(s.addEventListener("click",function(){s.classList.contains("expanded")?r=l:r+=c,n()}),i.length>l?(s.classList.remove("latent"),s.classList.add("visible"),s.textContent=o||s.textContent):(s.classList.remove("visible"),s.classList.remove("expanded"),s.classList.add("latent"))),e.dataset.showMoreInitialized="true"}}function initShowMoreAll(){document.querySelectorAll(".show-more-inner").forEach(e=>initShowMoreForContainer(e))}function refreshShowMoreAll(){document.querySelectorAll(".show-more-inner").forEach(e=>{var t=e.querySelectorAll(".show-more-item"),n=e.querySelector(".show-more-btn"),i=e.classList.contains("gallery-page")?6:8;if(e.dataset.showMoreInitialized){let r=n&&n.classList.contains("expanded")?t.length:i;t.forEach((e,t)=>{t<r?e.classList.remove("latent"):e.classList.add("latent")}),n&&(t.length>i?(n.classList.add("visible"),n.classList.remove("latent")):(n.classList.remove("visible"),n.classList.remove("expanded"),n.classList.add("latent")))}else initShowMoreForContainer(e)})}["load","resize"].forEach(e=>{window.addEventListener(e,function(){let t=header.clientHeight;const r=document.querySelector(".main"),n=header.querySelector(".header-top");var i;n&&(i=n.offsetHeight),window.onscroll=function(e){window.scrollY>t?(header.classList.contains("fixed")||(header.classList.add("fixed"),r.removeAttribute("style")),r.style.marginTop=t+"px"):(n&&(n.style.height=i+"px",n.classList.remove("hide")),header.classList.remove("show-plashka"),header.classList.remove("fixed"),r.removeAttribute("style"))}})}),document.addEventListener("DOMContentLoaded",function(){initShowMoreAll()}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".panel-link").forEach(e=>{var t=e.querySelector(".panel-title");const r=e.querySelector(".panel-body");t.addEventListener("click",function(){this.classList.toggle("active"),r.classList.toggle("active")})})}),document.addEventListener("DOMContentLoaded",function(){function a(e){e.classList.remove("open"),document.body.classList.remove("lock"),document.querySelector("html").removeAttribute("style"),document.querySelector("html").classList.remove("lock"),document.querySelector("header").removeAttribute("style")}[].forEach.call(document.querySelectorAll("input[type=tel]"),function(e){let o;function t(e){e.keyCode&&(o=e.keyCode),this.selectionStart<3&&e.preventDefault();let t="+7 (___) ___ ____",r=0,n=t.replace(/\D/g,""),i=this.value.replace(/\D/g,""),s=t.replace(/[_\d]/g,function(e){return r<i.length?i.charAt(r++)||n.charAt(r):e});-1!=(r=s.indexOf("_"))&&(r<5&&(r=3),s=s.slice(0,r));var a=t.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&");(!(a=new RegExp("^"+a+"$")).test(this.value)||this.value.length<5||47<o&&o<58)&&(this.value=s),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",t,!1),e.addEventListener("focus",t,!1),e.addEventListener("blur",t,!1),e.addEventListener("keydown",t,!1)});var e=document.querySelectorAll(".popup-btn");const o=document.querySelectorAll(".popup"),l=document.querySelector(".original-title").innerHTML,c=document.querySelector(".original-subtitle")?.innerHTML||"";function d(e,t,r){parseInt(e.innerText)+r>t?e.innerText=String(t).replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g," "):setTimeout(()=>{e.innerText=parseInt(e.innerText)+r,d(e,t,r)},1)}document.querySelectorAll(".close-popup").forEach(function(e){e.addEventListener("click",function(e){a(e.target.closest(".popup"))})}),e.forEach(function(s){s.addEventListener("click",function(e){e.preventDefault();var t,r,n,i,e=e.currentTarget.dataset.path,e=document.querySelector(`[data-target="${e}"]`);e&&(o.forEach(function(e){a(e),e.addEventListener("click",function(e){e.target.closest(".popup__content")||a(e.target.closest(".popup"))})}),e.classList.add("open"),"popup-change"==e.getAttribute("data-target")&&(n=e.querySelector(".original-title"),i=e.querySelector(".original-subtitle"),s.classList.contains("change__item-btn")?s.classList.contains("doctors__btn")?(r=(t=s.closest(".change__item-title")).querySelector(".current-title"),t=t.querySelector(".current-subtitle"),n.innerHTML="Записаться к специалисту: "+r.innerHTML,t&&i&&(i.innerHTML=t.innerHTML)):s.classList.contains("change__item-btn_current")?n.textContent=s.textContent:(t=(r=s.closest(".change__item-title")).querySelector(".current-title"),r=r.querySelector(".current-subtitle"),n.innerHTML=t.innerHTML,r&&i&&(i.innerHTML=r.innerHTML)):(n.innerHTML=l,i&&(i.innerHTML=c))),s.classList.contains("reviews__btn")&&(t=s.closest(".reviews__item"),r=e.querySelector(".reviews__header_original"),n=e.querySelector(".reviews__text_original"),i=e.querySelector(".reviews__bottom_original"),r.innerHTML=t.querySelector(".reviews__header").innerHTML,n.innerHTML=t.querySelector(".reviews__text").innerHTML,i.innerHTML=t.querySelector(".reviews__bottom").innerHTML),scrollWidthFunc(),document.querySelector("html").classList.add("lock"))})});const u=new IntersectionObserver(e=>{let s=0;e.forEach(e=>{var t,r,n,i;e.target.getAttribute("data-min-width")&&(s=e.target.getAttribute("data-min-width")),e.isIntersecting&&window.innerWidth>s&&(e.target.classList.contains("counter")&&(stop=parseInt(e.target.innerText.replaceAll(" ","")),t=e.target,r=0,n=stop,i=250,t.innerText=r,d(t,n,increment=Math.trunc((n-r)/i))),!e.target.closest(".animation-group")&&(t=e.target.getAttribute("data-delay"))?setTimeout(()=>{e.target.classList.add("animated")},parseInt(t)):e.target.classList.add("animated"),u.unobserve(e.target))})},{threshold:.1,rootMargin:"0px"});e=document.querySelectorAll(".to_animate"),0<e.length&&e.forEach(e=>{u.observe(e)}),e=document.querySelectorAll(".tabbs");0<e.length&&e.forEach(e=>{const t=e.querySelectorAll(".tabb"),r=e.querySelectorAll(".tabb__content");for(let e=0;e<t.length;e++)t[e].addEventListener("click",()=>{t[e].classList.contains("active")?(t[e].classList.remove("active"),r[e]&&r[e].classList.remove("active")):(t.forEach(e=>{e.classList.remove("active")}),r.forEach(e=>{e.classList.remove("active")}),t[e].classList.add("active"),r[e]&&r[e].classList.add("active"))})});(new class{container;tab_button_class;tab_content_class;tab_attribute_key;tab_attribute_target;tab_navigation_next;tab_navigation_prev;tab_active_name;constructor({container:e=".tabs-container",tabs_wrapper_class:t=".tabs__wrapper",button_class:r=".tab",content_class:n=".tab-content",attribute_key:i="path",attribute_target:s="target",nav_next:a=".tabs__arrow_next",nav_prev:o=".tabs__arrow_prev",name_active:l=".tabs__active"}={}){this.container=e,this.tabs_wrapper_class=t,this.tab_button_class=r,this.tab_content_class=n,this.tab_attribute_key=i,this.tab_attribute_target=s,this.tab_navigation_next=a,this.tab_navigation_prev=o,this.tab_active_name=l}initTabs(){document.querySelectorAll(this.container).forEach(e=>{this.initTabsWrapper(e)})}initTabsWrapper(e){const t=e.querySelector(this.tabs_wrapper_class),r=e.querySelectorAll(this.tab_button_class),n=e.querySelectorAll(this.tab_content_class);var i=e.querySelector(this.tab_navigation_next),s=e.querySelector(this.tab_navigation_prev);const a=e.querySelector(this.tab_active_name);var o=document.querySelectorAll(".tabs__close");let l=0;a&&(a.querySelector(".tabs__active-text").textContent=r[l].textContent);for(let e=0;e<r.length;e++)!0===r[e].dataset.start&&(l=e),r[e].addEventListener("click",()=>{n[e]&&(l=e,this.showTabsContent({list_tabs:n,list_buttons:r,index:l}),a)&&(a.querySelector(".tabs__active-text").textContent=r[e].textContent,a.closest(".tabs").classList.remove("active"),document.querySelector("html").classList.remove("lock"))});if(this.showTabsContent({list_tabs:n,list_buttons:r,index:l}),i&&i.addEventListener("click",()=>{l+1<r.length?l+=1:l=0;var e=t.getBoundingClientRect().left,e=r[l].getBoundingClientRect().left-e;t.scrollBy({left:e,behavior:"smooth"}),this.showTabsContent({list_tabs:n,list_buttons:r,index:l})}),s&&s.addEventListener("click",()=>{0<=l-1?--l:l=r.length-1;var e=t.getBoundingClientRect().left,e=r[l].getBoundingClientRect().left-e;t.scrollBy({left:e,behavior:"smooth"}),this.showTabsContent({list_tabs:n,list_buttons:r,index:l})}),a&&a.addEventListener("click",function(){a.closest(".tabs").classList.add("active"),document.querySelector("html").classList.add("lock")}),0<o.length)for(let e=0;e<o.length;e+=1){const c=o[e];c.addEventListener("click",function(){c.closest(".tabs").classList.remove("active"),document.querySelector("html").classList.remove("lock")})}t.closest(".tabs__container").addEventListener("click",function(e){e.target.closest(".tabs__wrapper")||(t.closest(".tabs").classList.remove("active"),document.querySelector("html").classList.add("lock"))})}hideTabsContent({list_tabs:e,list_buttons:t}){t.forEach(e=>{e.classList.remove("active")}),e.forEach(e=>{e.classList.remove("active")})}showTabsContent({list_tabs:e,list_buttons:t,index:r}){this.hideTabsContent({list_tabs:e,list_buttons:t}),e[r]&&e[r].classList.add("active"),t[r]&&t[r].classList.add("active"),setTimeout(()=>{i(),refreshShowMoreAll()},50)}}).initTabs();e=document.querySelectorAll(".navigation"),0<e.length&&e.forEach(t=>{var e=t.closest("section"),e=e?e.querySelector(".text__content"):null;if(e){var r=e.querySelectorAll("h1, h2, h3, h4, h5");if(0<r.length){for(let e=0;e<r.length;e+=1){var n=r[e],i=n.textContent,s=t.querySelector(".navigation__list"),a=document.createElement("li"),o=document.createElement("a");a.classList.add("navigation__item"),"H1"==n.tagName&&a.classList.add("title-h1"),"H2"==n.tagName?a.classList.add("title-h2"):"H3"==n.tagName?a.classList.add("title-h3"):"H4"==n.tagName?a.classList.add("title-h4"):"H5"==n.tagName?a.classList.add("title-h5"):"H6"==n.tagName&&a.classList.add("title-h6"),o.classList.add("navigation__link"),n.setAttribute("id",""+e),o.setAttribute("href","$"+e),o.textContent=" "+i,a.append(o),s.append(a)}t.querySelectorAll('a[href^="$"').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();e=this.getAttribute("href").substring(1),e=document.getElementById(e).getBoundingClientRect().top;window.scrollBy({top:e-280,behavior:"smooth"})})})}else t.remove()}}),e=document.querySelectorAll(".animation-item");if(0<e.length){var t,r=new IntersectionObserver(function(e){e.forEach(e=>{e.isIntersecting&&e.target.classList.add("animation-active")})},{threshold:[.5]});for(t of e)r.observe(t)}let n=!1;function i(){var e=document.querySelectorAll(".reviews__item");0<e.length&&e.forEach(e=>{var t,r;e.classList.contains("reviews__item_original")||(t=e.querySelector(".reviews__text"),r=e.querySelector(".reviews__btn"),e.style.scale="1",e.style.display="flex",r&&t&&150<t.offsetHeight&&(t.classList.add("hidden"),r.classList.add("active")),e.removeAttribute("style"))})}document.addEventListener("scroll",function(){var e=document.getElementById("map");e&&e.getBoundingClientRect().top<window.innerHeight&&!n&&(document.querySelector('[src="https://api-maps.yandex.ru/2.1/?lang=ru_RU"]')||((e=document.createElement("script")).type="text/javascript",e.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU&apikey=YOUR_API_KEY",document.head.appendChild(e)),setTimeout(function(){ymaps.ready(function(){var e=document.querySelector("#map");{var t;e&&(e=[47.21280619894176,39.726343006841795],t=new ymaps.Map("map",{center:[47.21280619894176,39.726343006841795],zoom:16}),myGeoObject=new ymaps.GeoObject,t.geoObjects.add(new ymaps.Placemark(e,{balloonContent:"Наркологическая клиника Здравум"},{iconLayout:"default#image",iconImageHref:"assets/img/icons/map-marker.svg",iconImageSize:[80,80],iconImageOffset:[-40,-80]})),t.behaviors.disable(["scrollZoom"]))}})},500),n=!0)}),setTimeout(function(){i()},100);e=document.querySelectorAll("input[type=search]");0<e.length&&e.forEach(e=>{const t=e.closest(".search-wrapper");t&&document.addEventListener("keyup",function(){let r=e.value.toUpperCase();t.querySelectorAll(".search-list").forEach(e=>{var t=e.getElementsByTagName("li");for(let e=0;e<t.length;e++)-1<t[e].querySelector(".search-list__name").innerHTML.toUpperCase().indexOf(r)?t[e].classList.remove("hide"):t[e].classList.add("hide")})})});const s=document.querySelectorAll(".card"),h=(0<s.length&&(s.forEach(function(t){t.addEventListener("mouseenter",function(e){1020<window.innerWidth&&calculateAngle(e,this.querySelector(".card__item"),this)}),t.addEventListener("mousemove",function(e){1020<window.innerWidth&&calculateAngle(e,this.querySelector(".card__item"),this)}),t.addEventListener("mouseleave",function(e){1020<window.innerWidth&&(t.classList.remove("animated"),t.querySelector(".card__item").style.transform="rotateY(0deg) rotateX(0deg) scale(1)",t.querySelector(".card__item").style.filter="drop-shadow(0 5px 5px rgba(0, 0, 0, 0.3))")})}),window.addEventListener("resize",function(){window.innerWidth<1021&&s.forEach(e=>{e.removeAttribute("style"),e.querySelector(".card__item").removeAttribute("style")})})),document.querySelector(".burger__menu"));if(h){const m=document.querySelector(".header__wrapper"),g=document.querySelector(".header");h.addEventListener("click",()=>{var e;h.classList.contains("active")||(e=g.offsetHeight,g.getBoundingClientRect().top,window.scrollY,m.style.maxHeight="calc(100vh - "+e+"px)"),m.classList.toggle("active"),h.classList.toggle("active"),g.classList.toggle("active"),document.querySelector("html").classList.toggle("burger-lock")})}document.querySelectorAll(".header__service-btn").forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("active"),e.nextElementSibling.classList.toggle("active")})});var v,p,e=document.querySelectorAll(".hide-items"),e=(0<e.length&&e.forEach(e=>{var t=e.querySelectorAll(".hide-item");const i=e.querySelectorAll(".hide-item"),s=e.querySelectorAll(".hide-item__title"),a=e.querySelectorAll(".hide-item__content");t.forEach(t=>{let r=t.querySelector(".hide-item__title"),n=t.querySelector(".hide-item__content");r.addEventListener("click",()=>{var e;r.classList.contains("active")?(r.classList.remove("active"),n.classList.remove("active"),t.classList.remove("active"),n.style.height="0"):(s.forEach(e=>{e.classList.remove("active")}),i.forEach(e=>{e.classList.remove("active")}),a.forEach(e=>{e.classList.remove("active"),e.style.height="0"}),e=n.querySelector(".hide-item__height").offsetHeight,r.classList.add("active"),t.classList.add("active"),n.classList.add("active"),n.style.height=e+"px")})})}),document.querySelectorAll(".stages")),e=(0<e.length&&e.forEach(e=>{new Swiper(e.querySelector(".swiper"),{direction:"horizontal",slidesPerView:1.2,grabCursor:!0,spaceBetween:10,breakpoints:{750:{slidesPerView:4.3,spaceBetween:10}}})}),document.querySelectorAll(".reviews")),e=(0<e.length&&e.forEach(e=>{new Swiper(e.querySelector(".swiper"),{direction:"horizontal",navigation:{nextEl:e.querySelector(".reviews__slider-button_next"),prevEl:e.querySelector(".reviews__slider-button_prev")},pagination:{el:".reviews-pagination",type:"bullets",clickable:!0},slidesPerView:1.2,grabCursor:!0,spaceBetween:10,breakpoints:{750:{slidesPerView:4,spaceBetween:10}}})}),document.querySelectorAll(".stocks")),e=(0<e.length&&e.forEach(e=>{new Swiper(e.querySelector(".swiper"),{direction:"horizontal",slidesPerView:1.2,grabCursor:!0,spaceBetween:10,breakpoints:{550:{slidesPerView:2,spaceBetween:20}}})}),document.querySelectorAll(".doctors")),e=(0<e.length&&e.forEach(e=>{new Swiper(e.querySelector(".swiper"),{direction:"horizontal",navigation:{nextEl:e.querySelector(".doctors__slider-button_next"),prevEl:e.querySelector(".doctors__slider-button_prev")},effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",spaceBetween:20,initialSlide:2,coverflowEffect:{rotate:0,stretch:0,depth:500,modifier:.2,slideShadows:!1},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:3,spaceBetween:20},1024:{slidesPerView:5,spaceBetween:20}}})}),document.querySelectorAll(".doctor")),e=(0<e.length&&e.forEach(e=>{new Swiper(e.querySelector(".swiper"),{direction:"horizontal",navigation:{nextEl:e.querySelector(".doctor__slider-button_next"),prevEl:e.querySelector(".doctor__slider-button_prev")},slidesPerView:1,grabCursor:!0,spaceBetween:10})}),document.querySelectorAll(".licences"));0<e.length&&e.forEach(e=>{new Swiper(e.querySelector(".swiper"),{direction:"horizontal",navigation:{nextEl:e.querySelector(".licences-button_next"),prevEl:e.querySelector(".licences-button_prev")},pagination:{el:".licences-pagination",type:"bullets",clickable:!0},effect:"coverflow",grabCursor:!0,centeredSlides:!0,initialSlide:2,slidesPerView:"auto",spaceBetween:10,coverflowEffect:{rotate:0,stretch:0,depth:500,modifier:.2,slideShadows:!1},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:3,spaceBetween:20},1024:{slidesPerView:5,spaceBetween:20}}})}),SwiperCheck1=document.querySelector(".mySwiper"),SwiperCheck2=document.querySelector(".mySwiper2"),SwiperCheck1&&SwiperCheck2&&(p=v=!1,["resize","load"].forEach(e=>{window.addEventListener(e,function(){v&&(v.destroy(!0,!0),v=!1,p.destroy(!0,!0),p=!1),v||(v=new Swiper(".mySwiper",{spaceBetween:8,slidesPerView:window.innerWidth<1024?5.2:4,freeMode:!0,watchSlidesProgress:!0,grabCursor:!0}),p=new Swiper(".mySwiper2",{spaceBetween:10,thumbs:{swiper:v},navigation:{nextEl:".gallery__slider-button_next",prevEl:".gallery__slider-button_prev"},pagination:{el:".gallery-pagination",type:"fraction",renderFraction:function(e,t){return`<span class="${e}"></span> / <span class="${t}"></span>`},clickable:!0}}))})})),Fancybox.bind("[data-fancybox]",{});e=document.querySelectorAll(".doctor-licences"),0<e.length&&e.forEach(e=>{new Swiper(e.querySelector(".swiper"),{direction:"horizontal",navigation:{nextEl:e.querySelector(".doctor-licences-button_next"),prevEl:e.querySelector(".doctor-licences-button_prev")},slidesPerView:1.2,grabCursor:!0,spaceBetween:20,breakpoints:{500:{slidesPerView:1,spaceBetween:20}}})}),e=document.querySelectorAll(".articles"),0<e.length&&e.forEach(e=>{new Swiper(e.querySelector(".swiper"),{direction:"horizontal",navigation:{nextEl:e.querySelector(".articles__slider-button_next"),prevEl:e.querySelector(".articles__slider-button_prev")},slidesPerView:1.1,grabCursor:!0,spaceBetween:10,breakpoints:{1140:{slidesPerView:3,spaceBetween:20},650:{slidesPerView:2,spaceBetween:20}}})}),e=document.querySelectorAll(".programs");0<e.length&&e.forEach(e=>{new Swiper(e.querySelector(".swiper"),{direction:"horizontal",navigation:{nextEl:e.querySelector(".programs__slider-button_next"),prevEl:e.querySelector(".programs__slider-button_prev")},slidesPerView:1.1,grabCursor:!0,spaceBetween:10,breakpoints:{900:{slidesPerView:3,spaceBetween:20},600:{slidesPerView:2,spaceBetween:20}}})})});let scrollWidthFunc=()=>{var e=window.innerWidth-document.body.clientWidth;document.querySelector("html").style.paddingRight=e+"px",document.querySelector("header").style.paddingRight=e+"px"},calculateAngle=function(e,t,r){var n=Math.abs(t.getBoundingClientRect().x-e.clientX),e=Math.abs(t.getBoundingClientRect().y-e.clientY),i=t.getBoundingClientRect().width/2,s=t.getBoundingClientRect().height/2,a=(n-i)/10,o=(e-s)/14,r=(r.style.perspective=12*i+"px",t.style.perspective=12*i+"px",t.style.transform=`rotateY(${a}deg) rotateX(${-o}deg) scale(1.04)`,(n-i)/10);t.style.filter=`drop-shadow(${-r}px ${-((e-s)/8)}px 15px rgba(0, 0, 0, 0.5))`};const headerPlashka=document.querySelector(".header__plashka"),headerPlashkaInner=document.querySelector(".header__plashka-height");headerPlashka&&headerPlashkaInner&&(window.onscroll=function(e){var t=header.clientHeight;window.scrollY>t?header.classList.contains("scrolled")||(header.classList.add("scrolled"),headerPlashka.style.height="0px"):(t=headerPlashkaInner.offsetHeight,headerPlashka.style.height=t+"px",header.classList.remove("scrolled"))}),document.addEventListener("DOMContentLoaded",function(){});